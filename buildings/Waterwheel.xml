<?xml version="1.0" ?>

<building name="Waterwheel" gameID="water_wheel" file="mechanics.png">

	<include file="sBlueprint.xml" />

	<else>
		<and>
			<NeighbourSameBuilding dir="North" />
			<NeighbourSameBuilding dir="South" />
		</and>
		<if>
			<not><FluidBelow value=4 /></not>
			<sprite index= 47 offsety=15 offsetx=7 />
		</if>
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 41 offsety=3/>
		</if>
		<else>
			<sprite index= 44 offsety=3/>
		</else>
	</else>
	<else>	
		<NeighbourSameBuilding dir="North" />
		<if>
			<not><FluidBelow value=7 /></not>
			<if>
				<FluidBelow value=4 />
				<sprite index= 49 offsety=7 offsetx=2 />
			</if>
			<else>
				<sprite index= 46 offsety=7 offsetx=2 />
			</else>
		</if>
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 40 offsety=3/>
		</if>
		<else>
			<sprite index= 43 offsety=3/>
		</else>
	</else>
	<else>	
		<NeighbourSameBuilding dir="South" />
		<if>
			<not><FluidBelow value=7 /></not>
			<if>
				<FluidBelow value=4/>
				<sprite index= 50 offsety=16/>
			</if>
			<else>
				<sprite index= 48 offsety=16/>
			</else>
		</if>
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 42 offsety=3/>
		</if>
		<else>
			<sprite index= 45 offsety=3/>
		</else>
	</else>
	
	<else>
		<and>
			<NeighbourSameBuilding dir="East" />
			<NeighbourSameBuilding dir="West" />
		</and>
		<if>
			<not><FluidBelow value=4 /></not>
			<sprite index= 67 offsety=15 offsetx=-7/>
		</if>
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 61 offsety=3/>
		</if>
		<else>
			<sprite index= 64 offsety=3/>
		</else>
	</else>
	<else>	
		<NeighbourSameBuilding dir="West" />
		<if>
			<not><FluidBelow value=7 /></not>
			<if>
				<FluidBelow value=4/>
				<sprite index= 69 offsety=7 offsetx=-2/>
			</if>
			<else>
				<sprite index= 66 offsety=7 offsetx=-2/>
			</else>
		</if>
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 60 offsety=3/>
		</if>
		<else>
			<sprite index= 63 offsety=3/>
		</else>
	</else>
	<else>	
		<NeighbourSameBuilding dir="East" />
		<if>
			<not><FluidBelow value=7 /></not>
			<if>
				<FluidBelow value=4/>
				<sprite index= 70 offsety=16/>
			</if>
			<else>
				<sprite index= 68 offsety=16/>
			</else>
		</if>	
		<if>
			<or>
				<AnimationFrame value=0 />
				<AnimationFrame value=2 />
				<AnimationFrame value=4 />
			</or>
			<sprite index= 62 offsety=3/>
		</if>
		<else>
			<sprite index= 65 offsety=3/>
		</else>
	</else>
		
</building> 
